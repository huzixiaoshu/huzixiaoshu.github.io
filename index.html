<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>huzixiaoshu - welcome</title><meta name="author" content="huzixiaoshu"><meta name="copyright" content="huzixiaoshu"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="hello world">
<meta property="og:type" content="website">
<meta property="og:title" content="huzixiaoshu">
<meta property="og:url" content="https://huzixiaoshu.github.io/index.html">
<meta property="og:site_name" content="huzixiaoshu">
<meta property="og:description" content="hello world">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://huzixiaoshu.github.io/img/655.jpg">
<meta property="article:author" content="huzixiaoshu">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://huzixiaoshu.github.io/img/655.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://huzixiaoshu.github.io/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = { 
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2021-04-23 01:14:43'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    })(window)</script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/img/655.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">20</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('/img/655.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">huzixiaoshu</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">huzixiaoshu</h1><div id="site_social_icons"><a class="social-icon" href="https://github.com/huzixiaoshu" target="_blank" title="Github"><i class="fab fa-github"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/04/23/%E6%97%B6%E9%97%B4_%E5%8E%9F%E5%AD%90%E6%93%8D%E4%BD%9C_%E5%BC%82%E5%B8%B8/" title="时间_原子操作_异常">     <img class="post_bg" src="/linear-gradient(20deg,%20#0062be,%20#925696,%20#cc426e,%20#fb0347)" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="时间_原子操作_异常"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/04/23/%E6%97%B6%E9%97%B4_%E5%8E%9F%E5%AD%90%E6%93%8D%E4%BD%9C_%E5%BC%82%E5%B8%B8/" title="时间_原子操作_异常">时间_原子操作_异常</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-04-22T17:14:01.302Z" title="Created 2021-04-23 01:14:01">2021-04-23</time></span></div><div class="content">基础
值语义： 可以拷贝的，拷贝之后，与原对象脱离关系
对象语义，要么是不能拷贝的，要么可以拷贝，拷贝之后与原对象仍然存在一定的关系，比如共享底层资源（要实现自己的拷贝构造函数）
继承了两个类，copyable，or nocopyable。nocopyable只需要让其拷贝构造函数和赋值构造函数定义为=delete即可(c++11特性)或者将其定义为private。其默认构造函数和析构函数需要定义为protectd，使得只能为子类使用，但是子类不具有复制行为。123456789class noncopyable &#123;public:    noncopyable(const noncopyable&amp;) = delete;    void operator=(const noncopyable&amp;) = delete;protected:    noncopyable() = default;    ~noncopyable() = default;&#125;;
muduo::copyable 空基类，标识类，值类型Timestamp
static_assert 在 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/04/23/%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/" title="网络基础">     <img class="post_bg" src="/linear-gradient(20deg,%20#0062be,%20#925696,%20#cc426e,%20#fb0347)" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="网络基础"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/04/23/%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/" title="网络基础">网络基础</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-04-22T17:13:03.412Z" title="Created 2021-04-23 01:13:03">2021-04-23</time></span></div><div class="content">网络基础协议典型协议
传输层：TCP/UDP 协议
应用层： HTTP协议、FTP协议
网络层： IP协议、ICMP协议、IGMP协议
网络接口层：ARP协议、RARP协议


TCP传输控制协议是一种面向连接、可靠的、基于字节流的传输层通信协议
UDP用户数据报协议是OSI参考模型中一种无连接的传输层协议，提供面向事务的简单不可靠信息传送服务
HTTP超文本传输协议是互联网上应用最为广泛的一种网络协议
FTP文本传输协议
IP协议是因特网互联协议
ICMP协议是Internet控制报文协议，它是TCP/IP协议族的一个子协议，用于在IP主机、路由器之间传递控制信息
IGMP协议是Internet组管理协议是因特网协议家族中的一个组播协议。该协议运行在主机和组播路由器之间。
ARP协议是正向地址解析协议，通过已知的IP，寻找对应的主机MAC地址
RARP是反向地址转换协议，通过MAC地址确定IP地址网络设计模式


C/S （客户端、服务器）


优点： 
协议选用灵活
缓存数据


缺点：
对用户的安全构成威胁
开发工作量较大，调试困难




B/S  (浏览器、服务器)


优点 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/04/20/%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%90%8C%E6%AD%A5/" title="线程的同步">     <img class="post_bg" src="/linear-gradient(20deg,%20#0062be,%20#925696,%20#cc426e,%20#fb0347)" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="线程的同步"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/04/20/%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%90%8C%E6%AD%A5/" title="线程的同步">线程的同步</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-04-20T13:51:27.440Z" title="Created 2021-04-20 21:51:27">2021-04-20</time></span></div><div class="content">同步概念
同步即协同步调，按预定的先后次序运行。
线程同步，指一个线程发出某一功能调用时，在没有得到结果之前，该调用不返回，同时其它线程为保证数据一致性，不能调用该功能。
锁是建议锁，不具备强制性。
多个控制流，共同操作一个共享资源的时候需要同步。
数据混乱的原因


资源共享（独享资源则不会）
调度随机（意味着数据访问会出现竞争）
线程间缺乏必要的同步机制
前两点不能改变，欲提高效率，传递数据，资源必须共享，只要共享资源，就一定会出现竞争。只要存在竞争关系，数据就很容易出现混乱。所以只能从第三个着手解决，使多个线程在访问共享资源的时候，出现互斥。互斥量mutexpthread_mutex_init 函数


初始化一个互斥锁（互斥量）–&gt; 初值可以看作1

restrict关键字： 只用于限制指针，告诉编译器，所有修改该指针指向内存中内容的操作，只能通过本指针完成。不能通过除本指针以外的其它变量或指针修改。

互斥量属性。是一个传入参数，通常传NULL，选用默认属性（线程间共享）

 静态初始化：如果互斥锁mutex是静态分配的（定义在全局，或加了static关键字修饰），可以 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/04/19/%E7%BA%BF%E7%A8%8B/" title="线程">     <img class="post_bg" src="/linear-gradient(20deg,%20#0062be,%20#925696,%20#cc426e,%20#fb0347)" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="线程"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/04/19/%E7%BA%BF%E7%A8%8B/" title="线程">线程</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-04-19T13:43:26.744Z" title="Created 2021-04-19 21:43:26">2021-04-19</time></span></div><div class="content">线程概念
LWP:light weight process  轻量级进程，本质是仍是进程


进程： 独立地址空间，拥有PCB
线程:  也有PCB，但没有独立的地址空间（共享）
区别： 在于是否共享地址空间。  独居（进程）;合居(线程)。
Linux下： 
 线程：最小的执行单位
 进程：最小分配资源单位，可以看成只有一个线程的进程。




linux下内核线程实现原理


轻量级进程，也有PCB，创建线程使用的底层函数和进程一样，都是clone
从内核里看进程和线程一样，都有各自不同的PCB，但是PCB中指向内存资源的三级页表是相同的
进程可以蜕变成线程
线程可以看作寄存器和栈的集合
在linux下，线程最小的执行单位，进程是最小的资源分配单位
查看LWP号:  ps -Lf pid 查看指定线程的lwp号线程共享资源


文件描述符
每种信号的处理方式
当前工作目录
用户ID和组ID
内存地址空间（.text/.data/.bss/heap/共享库）线程非共享资源
线程id
处理器现场和栈指针（内核栈）
独立的栈空间（用户空间栈）
errno变量
信号屏蔽字
调度优先级线程优 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/04/18/%E4%BF%A1%E5%8F%B72/" title="信号2">     <img class="post_bg" src="/linear-gradient(20deg,%20#0062be,%20#925696,%20#cc426e,%20#fb0347)" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="信号2"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/04/18/%E4%BF%A1%E5%8F%B72/" title="信号2">信号2</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-04-18T04:08:48.751Z" title="Created 2021-04-18 12:08:48">2021-04-18</time></span></div><div class="content">竞态条件（时序竞争）pause函数
调用该函数可以造成进程主动挂起，等待信号唤醒。调用该系统调用的进程将处于阻塞状态（主动放弃cpu）直到有信号递达将其唤醒
int pause (void)  返回值：-1 并设置errno为EINTR


如果信号的默认处理动作是终止进程，则进程终止，pause函数没有机会返回。
如果信号的默认处理动作是忽略，进程继续处于挂起状态，pause函数不返回。
如果信号的处理动作是捕捉，则调用完信号处理函数之后，pause函数返回-1， errno设置为EINTR,表示“被信号中断”，
pause收到的信号不能被屏蔽，如果被屏蔽，那么pause就不能被唤醒。解决时序问题


sigsuspend   : 原子操作，不可再分的操作总结&emsp;&emsp;竞态条件，跟系统负载有很紧密的关系，体现出信号的不可靠性。系统负载越严重，信号不可靠性越强。提早预见，主动规避。全局变量的异步尽量避免使用全局变量。类似于多线程中的多个线程对同一个变量进行操作，很容易造成异常。

不可/可重入函数
一个函数在调用执行期间（尚未调用结束），由于某种时序又被重复调用，称之为“ ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/04/18/%E5%AE%88%E6%8A%A4%E8%BF%9B%E7%A8%8B/" title="守护进程">     <img class="post_bg" src="/linear-gradient(20deg,%20#0062be,%20#925696,%20#cc426e,%20#fb0347)" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="守护进程"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/04/18/%E5%AE%88%E6%8A%A4%E8%BF%9B%E7%A8%8B/" title="守护进程">守护进程</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-04-18T04:08:41.259Z" title="Created 2021-04-18 12:08:41">2021-04-18</time></span></div><div class="content">终端
输入输出的总称叫做终端。
terminal 是虚拟终端
简单来说，一个Linux系统启动，大致流程：


 init --&gt; fork --&gt; exec --&gt; getty --&gt; 用户输入账号 --&gt; login --&gt; 输入密码 --&gt; exec -- &gt;bash


线路规程 ：line disciline 用来过滤键盘输入的内容
ttyname 函数： 由文件描述符查出对应的文件名进程组概念和特性
进程组，也称为作业。
当父进程，创建子进程的时候，默认子进程与父进程属于同一进程组。进程组ID==第一个进程ID(组长进程)。所以，组长进程标识：其进程组ID==其进程ID。
组长进程可以创建一个进程组，创建该进程组中的进程，然后终止，只要进程中有一个进程存在，进程组就存在，与组长进程是否终止无关。
进程组生存期：进程组创建到最后一个进程离开（终止或转移到另外一个进程组）。
一个进程可以为自己或子进程设置进程组IDgetpgrp函数
获取当前进程的进程组IDgetpgid函数
获取指定进程的进程组IDsetpgid函数
改变进程默 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/04/16/%E4%BF%A1%E5%8F%B7/" title="信号">     <img class="post_bg" src="/linear-gradient(20deg,%20#0062be,%20#925696,%20#cc426e,%20#fb0347)" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="信号"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/04/16/%E4%BF%A1%E5%8F%B7/" title="信号">信号</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-04-16T11:06:59.941Z" title="Created 2021-04-16 19:06:59">2021-04-16</time></span></div><div class="content">信号的概念
三个特征：


简单
不能携带大量信息
满足某个特定条件才发送


信号的特质： 由于信号是通过软件方法实现，其实现手段导致信号有很强的延时性，但是该时间是相对于CPU而言。与信号相关的时间和状态
产生信号


按键产生 如：
ctrl+c : 2)SIGINT(终止/中断) ‘INT’–interrupt
ctrl+z : 20)SIGSTP（暂停/停止） ‘T’ –Terminal终端
ctrl+\ : 3)SIGQUIT(退出)


系统调用产生，如:kill\raise\abort
软件条件产生，如：定时器 alarm
硬件异常产生，如：
非法访问内存（段错误）  11)SIGSEGV(段错误)
除（0）（浮点数例外）  8)SIGFPE(浮点数例外) ‘F’-float
内存对齐出错（总线错误） 7) SIGBUS


命令产生，如：kill命令


递达：  递送应且到达进程
未决：产生和递达之间的状态，主要由于阻塞（屏蔽）导致该状态
信号的处理方式：


执行默认动作
忽略（丢弃）
捕捉（调用户处理函数）信号4要素


信号四要素：


 编号
名称
事件
默 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/04/16/%E8%BF%9B%E7%A8%8B%E9%97%B4%E9%80%9A%E4%BF%A1/" title="进程间通信学习">     <img class="post_bg" src="/linear-gradient(20deg,%20#0062be,%20#925696,%20#cc426e,%20#fb0347)" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="进程间通信学习"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/04/16/%E8%BF%9B%E7%A8%8B%E9%97%B4%E9%80%9A%E4%BF%A1/" title="进程间通信学习">进程间通信学习</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-04-16T06:27:25.189Z" title="Created 2021-04-16 14:27:25">2021-04-16</time></span></div><div class="content">IPC方法现今常用的进程间通信的方法：

管道（使用最简单）
信号（开销最小）
共享映射区（无血缘关系）
本地套接字（最稳定）

管道
本质为一个伪文件（内核缓冲区）
有两个文件描述符引用，一个表示读端，一个表示写端。
规定数据从管道的写端流入管道，从读端流出。
管道的原理：管道实为内核使用环形队列机制，借助内核缓冲区（4k）实现。
局限性：


数据自己读不能自己写。
数据一旦被读走，便不在管道中存在，不可反复读取
半双工通信，数据只能在一个方向上流动
只能在有公共祖先的进程间使用管道


读管道：


管道有数据：read返回实际读到的字节数
管道无数据：
管道写端被全部关闭，read返回0（类似读到文件尾）
有写端，read阻塞等待




写管道：


无读端： 异常终止（SIGPIPE导致的）
有读端： 
管道已满，阻塞等待
管道未满，返回写出的字节个数




兄弟进程间通信：


记得关闭主进程之间的fd


管道缓冲区大小


可以使用 ulimit -a 命令来查看当前系统中创建管道文件所对应的内核缓冲区大小： pipe size (512 bytes, -p) 8
 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/04/07/%E8%BF%9B%E7%A8%8B%E5%AD%A6%E4%B9%A0/" title="进程学习">     <img class="post_bg" src="/linear-gradient(20deg,%20#0062be,%20#925696,%20#cc426e,%20#fb0347)" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="进程学习"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/04/07/%E8%BF%9B%E7%A8%8B%E5%AD%A6%E4%B9%A0/" title="进程学习">进程学习</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-04-07T11:51:39.183Z" title="Created 2021-04-07 19:51:39">2021-04-07</time></span></div><div class="content">进程相关的概念
虚拟地址：可用的地址空间  有4G
MMU完成虚拟地址与实际地址的映射，还可以完成设置修改内存访问级别
映射最小单位是page页的大小，比如4k
如果同时打开两个相同的./a.out文件，由于进程是独立的，所有用户区的内存占两份，内核区的只占一份
每个进程在内核中都有一个进程控制块（PCB）来维护进程相关的信息，LINUX内核的进程控制块是task_struct结构体。
进程的ID是唯一的
进程有五种状态：
初始态（进程的准备状态，常用就绪态放在一起）
就绪态
运行态
挂起态
终止态


ulimit -a查看当前系统的资源上限
pcb存储的一些信息：


进程ID
进程的状态
进程切换时需要保存和恢复的一些CPU寄存器
描述虚拟地址空间的信息
描述控制终端的信息
当前工作目录
umask掩码
文件描述符表，包含很多指向file结构体的指针
和信号相关的信息
用户id和组id
会话和进程组
进程可以使用的资源上限环境变量


环境变量是指在操作系统中用来指定操作系统运行环境的一些参数，通常具备以下特征：


字符串（本质）
有统一的格式： 名=值【：值】
值用来描述进程 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/04/06/%E7%9B%AE%E5%BD%95%E6%93%8D%E4%BD%9C%E5%87%BD%E6%95%B0%E5%AD%A6%E4%B9%A0/" title="目录操作函数学习">     <img class="post_bg" src="/linear-gradient(20deg,%20#0062be,%20#925696,%20#cc426e,%20#fb0347)" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="目录操作函数学习"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/04/06/%E7%9B%AE%E5%BD%95%E6%93%8D%E4%BD%9C%E5%87%BD%E6%95%B0%E5%AD%A6%E4%B9%A0/" title="目录操作函数学习">目录操作函数学习</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-04-06T12:50:07.982Z" title="Created 2021-04-06 20:50:07">2021-04-06</time></span></div><div class="content">chdir函数
修改当前进程的路径getcwd函数
获取当前进程工作目录mkdir函数
创建目录
创建的目录需要有执行权限，否则无法进入目录rmdir函数
删除一个空目录opendir函数
打开一个目录readdir 函数
读目录

12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849#include&lt;stdio.h&gt;#include&lt;stdlib.h&gt;#include&lt;sys/types.h&gt;#include&lt;dirent.h&gt;#include&lt;unistd.h&gt;#include&lt;string.h&gt;int getFileNum(char * root)&#123;    DIR* dir =NULL;    dir= opendir(root);    if(dir==NULL)    &#123;        perror(&quot;opendir&quot;);        ex ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="/img/655.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">huzixiaoshu</div><div class="author-info__description">hello world</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">20</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/huzixiaoshu"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/huzixiaoshu" target="_blank" title="Github"><i class="fab fa-github"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>Announcement</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/04/23/%E6%97%B6%E9%97%B4_%E5%8E%9F%E5%AD%90%E6%93%8D%E4%BD%9C_%E5%BC%82%E5%B8%B8/" title="时间_原子操作_异常"><img src="/linear-gradient(20deg,%20#0062be,%20#925696,%20#cc426e,%20#fb0347)" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="时间_原子操作_异常"/></a><div class="content"><a class="title" href="/2021/04/23/%E6%97%B6%E9%97%B4_%E5%8E%9F%E5%AD%90%E6%93%8D%E4%BD%9C_%E5%BC%82%E5%B8%B8/" title="时间_原子操作_异常">时间_原子操作_异常</a><time datetime="2021-04-22T17:14:01.302Z" title="Created 2021-04-23 01:14:01">2021-04-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/04/23/%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/" title="网络基础"><img src="/linear-gradient(20deg,%20#0062be,%20#925696,%20#cc426e,%20#fb0347)" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="网络基础"/></a><div class="content"><a class="title" href="/2021/04/23/%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/" title="网络基础">网络基础</a><time datetime="2021-04-22T17:13:03.412Z" title="Created 2021-04-23 01:13:03">2021-04-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/04/20/%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%90%8C%E6%AD%A5/" title="线程的同步"><img src="/linear-gradient(20deg,%20#0062be,%20#925696,%20#cc426e,%20#fb0347)" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="线程的同步"/></a><div class="content"><a class="title" href="/2021/04/20/%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%90%8C%E6%AD%A5/" title="线程的同步">线程的同步</a><time datetime="2021-04-20T13:51:27.440Z" title="Created 2021-04-20 21:51:27">2021-04-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/04/19/%E7%BA%BF%E7%A8%8B/" title="线程"><img src="/linear-gradient(20deg,%20#0062be,%20#925696,%20#cc426e,%20#fb0347)" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="线程"/></a><div class="content"><a class="title" href="/2021/04/19/%E7%BA%BF%E7%A8%8B/" title="线程">线程</a><time datetime="2021-04-19T13:43:26.744Z" title="Created 2021-04-19 21:43:26">2021-04-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/04/18/%E4%BF%A1%E5%8F%B72/" title="信号2"><img src="/linear-gradient(20deg,%20#0062be,%20#925696,%20#cc426e,%20#fb0347)" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="信号2"/></a><div class="content"><a class="title" href="/2021/04/18/%E4%BF%A1%E5%8F%B72/" title="信号2">信号2</a><time datetime="2021-04-18T04:08:48.751Z" title="Created 2021-04-18 12:08:48">2021-04-18</time></div></div></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>Archives</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/04/"><span class="card-archive-list-date">April 2021</span><span class="card-archive-list-count">11</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/03/"><span class="card-archive-list-date">March 2021</span><span class="card-archive-list-count">9</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>Info</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">Article :</div><div class="item-count">20</div></div><div class="webinfo-item"><div class="item-name">Run time :</div><div class="item-count" id="runtimeshow" data-publishDate="2021-03-19T16:00:00.000Z"></div></div><div class="webinfo-item"><div class="item-name">UV :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">PV :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">Last Push :</div><div class="item-count" id="last-push-date" data-lastPushDate="2021-04-22T17:14:43.855Z"></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By huzixiaoshu</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>